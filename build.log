time="2025-12-24T17:31:48+09:00" level=warning msg="/home/damen/futari-no-kikkake-cho/compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 563B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile.dev
#2 transferring dockerfile: 863B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/ruby:3.2.3
#3 DONE 4.5s

#4 [internal] load .dockerignore
#4 transferring context: 896B done
#4 DONE 0.0s

#5 [1/7] FROM docker.io/library/ruby:3.2.3@sha256:9ee6e94ab254ec61fd08472976a8d0a04d9745de76e9768ccd33f0b7d2fd1be9
#5 resolve docker.io/library/ruby:3.2.3@sha256:9ee6e94ab254ec61fd08472976a8d0a04d9745de76e9768ccd33f0b7d2fd1be9 0.0s done
#5 CACHED

#6 [internal] load build context
#6 transferring context: 21.64kB 0.1s done
#6 DONE 0.1s

#7 [2/7] RUN apt-get update -qq && apt-get install -y ca-certificates curl gnupg && mkdir -p /etc/apt/keyrings && curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg && NODE_MAJOR=20 && echo "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_$NODE_MAJOR.x nodistro main" | tee /etc/apt/sources.list.d/nodesource.list && wget --quiet -O - /tmp/pubkey.gpg https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add - && echo "deb https://dl.yarnpkg.com/debian/ stable main" | tee /etc/apt/sources.list.d/yarn.list
#7 2.125 Reading package lists...
#7 2.527 Building dependency tree...
#7 2.628 Reading state information...
#7 2.739 The following additional packages will be installed:
#7 2.739   dirmngr gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server
#7 2.740   gpgconf gpgsm gpgv libcurl3-gnutls libcurl4 libcurl4-openssl-dev
#7 2.741 Suggested packages:
#7 2.741   dbus-user-session libpam-systemd pinentry-gnome3 tor parcimonie xloadimage
#7 2.741   scdaemon libcurl4-doc libidn-dev libldap2-dev librtmp-dev libssh2-1-dev
#7 2.790 The following packages will be upgraded:
#7 2.790   ca-certificates curl dirmngr gnupg gnupg-l10n gnupg-utils gpg gpg-agent
#7 2.790   gpg-wks-client gpg-wks-server gpgconf gpgsm gpgv libcurl3-gnutls libcurl4
#7 2.791   libcurl4-openssl-dev
#7 2.821 16 upgraded, 0 newly installed, 0 to remove and 146 not upgraded.
#7 2.821 Need to get 9998 kB of archives.
#7 2.821 After this operation, 0 B of additional disk space will be used.
#7 2.821 Get:1 http://deb.debian.org/debian bookworm/main amd64 gpgv amd64 2.2.40-1.1+deb12u1 [649 kB]
#7 2.874 Get:2 http://deb.debian.org/debian bookworm/main amd64 ca-certificates all 20230311+deb12u1 [155 kB]
#7 2.886 Get:3 http://deb.debian.org/debian bookworm/main amd64 libcurl4-openssl-dev amd64 7.88.1-10+deb12u14 [492 kB]
#7 2.921 Get:4 http://deb.debian.org/debian bookworm/main amd64 curl amd64 7.88.1-10+deb12u14 [316 kB]
#7 2.938 Get:5 http://deb.debian.org/debian bookworm/main amd64 libcurl4 amd64 7.88.1-10+deb12u14 [392 kB]
#7 2.961 Get:6 http://deb.debian.org/debian bookworm/main amd64 gpgsm amd64 2.2.40-1.1+deb12u1 [671 kB]
#7 2.999 Get:7 http://deb.debian.org/debian bookworm/main amd64 gpg-wks-client amd64 2.2.40-1.1+deb12u1 [540 kB]
#7 3.032 Get:8 http://deb.debian.org/debian bookworm/main amd64 gpg-wks-server amd64 2.2.40-1.1+deb12u1 [531 kB]
#7 3.062 Get:9 http://deb.debian.org/debian bookworm/main amd64 gpg amd64 2.2.40-1.1+deb12u1 [949 kB]
#7 3.120 Get:10 http://deb.debian.org/debian bookworm/main amd64 gnupg-utils amd64 2.2.40-1.1+deb12u1 [927 kB]
#7 3.194 Get:11 http://deb.debian.org/debian bookworm/main amd64 gnupg-l10n all 2.2.40-1.1+deb12u1 [1093 kB]
#7 3.265 Get:12 http://deb.debian.org/debian bookworm/main amd64 dirmngr amd64 2.2.40-1.1+deb12u1 [792 kB]
#7 3.308 Get:13 http://deb.debian.org/debian bookworm/main amd64 gnupg all 2.2.40-1.1+deb12u1 [846 kB]
#7 3.359 Get:14 http://deb.debian.org/debian bookworm/main amd64 gpg-agent amd64 2.2.40-1.1+deb12u1 [694 kB]
#7 3.401 Get:15 http://deb.debian.org/debian bookworm/main amd64 gpgconf amd64 2.2.40-1.1+deb12u1 [564 kB]
#7 3.435 Get:16 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u14 [386 kB]
#7 3.587 debconf: delaying package configuration, since apt-utils is not installed
#7 3.618 Fetched 9998 kB in 1s (15.1 MB/s)
#7 3.643 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23248 files and directories currently installed.)
#7 3.666 Preparing to unpack .../gpgv_2.2.40-1.1+deb12u1_amd64.deb ...
#7 3.677 Unpacking gpgv (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 3.751 Setting up gpgv (2.2.40-1.1+deb12u1) ...
#7 3.804 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23248 files and directories currently installed.)
#7 3.823 Preparing to unpack .../00-ca-certificates_20230311+deb12u1_all.deb ...
#7 3.834 Unpacking ca-certificates (20230311+deb12u1) over (20230311) ...
#7 4.220 Preparing to unpack .../01-libcurl4-openssl-dev_7.88.1-10+deb12u14_amd64.deb ...
#7 4.231 Unpacking libcurl4-openssl-dev:amd64 (7.88.1-10+deb12u14) over (7.88.1-10+deb12u5) ...
#7 4.331 Preparing to unpack .../02-curl_7.88.1-10+deb12u14_amd64.deb ...
#7 4.341 Unpacking curl (7.88.1-10+deb12u14) over (7.88.1-10+deb12u5) ...
#7 4.409 Preparing to unpack .../03-libcurl4_7.88.1-10+deb12u14_amd64.deb ...
#7 4.423 Unpacking libcurl4:amd64 (7.88.1-10+deb12u14) over (7.88.1-10+deb12u5) ...
#7 4.489 Preparing to unpack .../04-gpgsm_2.2.40-1.1+deb12u1_amd64.deb ...
#7 4.499 Unpacking gpgsm (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 4.569 Preparing to unpack .../05-gpg-wks-client_2.2.40-1.1+deb12u1_amd64.deb ...
#7 4.581 Unpacking gpg-wks-client (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 4.653 Preparing to unpack .../06-gpg-wks-server_2.2.40-1.1+deb12u1_amd64.deb ...
#7 4.666 Unpacking gpg-wks-server (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 4.737 Preparing to unpack .../07-gpg_2.2.40-1.1+deb12u1_amd64.deb ...
#7 4.748 Unpacking gpg (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 4.832 Preparing to unpack .../08-gnupg-utils_2.2.40-1.1+deb12u1_amd64.deb ...
#7 4.843 Unpacking gnupg-utils (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 4.968 Preparing to unpack .../09-gnupg-l10n_2.2.40-1.1+deb12u1_all.deb ...
#7 4.979 Unpacking gnupg-l10n (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 5.243 Preparing to unpack .../10-dirmngr_2.2.40-1.1+deb12u1_amd64.deb ...
#7 5.292 Unpacking dirmngr (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 5.412 Preparing to unpack .../11-gnupg_2.2.40-1.1+deb12u1_all.deb ...
#7 5.423 Unpacking gnupg (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 5.557 Preparing to unpack .../12-gpg-agent_2.2.40-1.1+deb12u1_amd64.deb ...
#7 5.567 Unpacking gpg-agent (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 5.677 Preparing to unpack .../13-gpgconf_2.2.40-1.1+deb12u1_amd64.deb ...
#7 5.688 Unpacking gpgconf (2.2.40-1.1+deb12u1) over (2.2.40-1.1) ...
#7 5.764 Preparing to unpack .../14-libcurl3-gnutls_7.88.1-10+deb12u14_amd64.deb ...
#7 5.774 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) over (7.88.1-10+deb12u5) ...
#7 5.847 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) ...
#7 5.858 Setting up ca-certificates (20230311+deb12u1) ...
#7 5.934 debconf: unable to initialize frontend: Dialog
#7 5.934 debconf: (TERM is not set, so the dialog frontend is not usable.)
#7 5.934 debconf: falling back to frontend: Readline
#7 5.943 debconf: unable to initialize frontend: Readline
#7 5.943 debconf: (This frontend requires a controlling tty.)
#7 5.943 debconf: falling back to frontend: Teletype
#7 7.997 Updating certificates in /etc/ssl/certs...
#7 9.177 rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
#7 9.184 2 added, 0 removed; done.
#7 9.217 Setting up gnupg-l10n (2.2.40-1.1+deb12u1) ...
#7 9.227 Setting up gpgconf (2.2.40-1.1+deb12u1) ...
#7 9.238 Setting up libcurl4:amd64 (7.88.1-10+deb12u14) ...
#7 9.249 Setting up curl (7.88.1-10+deb12u14) ...
#7 9.259 Setting up gpg (2.2.40-1.1+deb12u1) ...
#7 9.270 Setting up gnupg-utils (2.2.40-1.1+deb12u1) ...
#7 9.281 Setting up gpg-agent (2.2.40-1.1+deb12u1) ...
#7 9.691 Setting up gpgsm (2.2.40-1.1+deb12u1) ...
#7 9.707 Setting up dirmngr (2.2.40-1.1+deb12u1) ...
#7 9.845 Setting up libcurl4-openssl-dev:amd64 (7.88.1-10+deb12u14) ...
#7 9.855 Setting up gpg-wks-server (2.2.40-1.1+deb12u1) ...
#7 9.866 Setting up gpg-wks-client (2.2.40-1.1+deb12u1) ...
#7 9.876 Setting up gnupg (2.2.40-1.1+deb12u1) ...
#7 9.886 Processing triggers for libc-bin (2.36-9+deb12u4) ...
#7 9.928 Processing triggers for ca-certificates (20230311+deb12u1) ...
#7 9.937 Updating certificates in /etc/ssl/certs...
#7 10.70 0 added, 0 removed; done.
#7 10.70 Running hooks in /etc/ca-certificates/update.d...
#7 10.71 done.
#7 10.81 deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_20.x nodistro main
#7 10.89 Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
#7 11.46 OK
#7 11.48 deb https://dl.yarnpkg.com/debian/ stable main
#7 DONE 11.5s

#8 [3/7] RUN apt-get update -qq && apt-get install -y build-essential libpq-dev nodejs yarn vim
#8 1.418 W: https://dl.yarnpkg.com/debian/dists/stable/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.
#8 1.430 Reading package lists...
#8 1.834 Building dependency tree...
#8 1.954 Reading state information...
#8 2.073 The following additional packages will be installed:
#8 2.074   libgpm2 libpq5 libsodium23 vim-common vim-runtime xxd
#8 2.076 Suggested packages:
#8 2.076   gpm postgresql-doc-15 ctags vim-doc vim-scripts
#8 2.178 The following NEW packages will be installed:
#8 2.179   build-essential libgpm2 libsodium23 nodejs vim vim-common vim-runtime xxd
#8 2.179   yarn
#8 2.180 The following packages will be upgraded:
#8 2.182   libpq-dev libpq5
#8 2.234 2 upgraded, 9 newly installed, 0 to remove and 144 not upgraded.
#8 2.234 Need to get 42.2 MB of archives.
#8 2.234 After this operation, 244 MB of additional disk space will be used.
#8 2.234 Get:1 http://deb.debian.org/debian bookworm/main amd64 vim-common all 2:9.0.1378-2+deb12u2 [125 kB]
#8 2.251 Get:2 http://deb.debian.org/debian bookworm/main amd64 build-essential amd64 12.9 [7704 B]
#8 2.251 Get:3 http://deb.debian.org/debian bookworm/main amd64 libgpm2 amd64 1.20.7-10+b1 [14.2 kB]
#8 2.253 Get:4 http://deb.debian.org/debian bookworm/main amd64 libpq-dev amd64 15.14-0+deb12u1 [148 kB]
#8 2.261 Get:5 https://deb.nodesource.com/node_20.x nodistro/main amd64 nodejs amd64 20.19.6-1nodesource1 [32.0 MB]
#8 2.265 Get:6 http://deb.debian.org/debian bookworm/main amd64 libpq5 amd64 15.14-0+deb12u1 [194 kB]
#8 2.291 Get:7 http://deb.debian.org/debian bookworm/main amd64 libsodium23 amd64 1.0.18-1 [161 kB]
#8 2.297 Get:8 http://deb.debian.org/debian bookworm/main amd64 vim-runtime all 2:9.0.1378-2+deb12u2 [7027 kB]
#8 2.435 Get:9 https://dl.yarnpkg.com/debian stable/main amd64 yarn all 1.22.22-1 [896 kB]
#8 5.214 Get:10 http://deb.debian.org/debian bookworm/main amd64 vim amd64 2:9.0.1378-2+deb12u2 [1568 kB]
#8 5.488 Get:11 http://deb.debian.org/debian bookworm/main amd64 xxd amd64 2:9.0.1378-2+deb12u2 [84.1 kB]
#8 5.625 debconf: delaying package configuration, since apt-utils is not installed
#8 5.663 Fetched 42.2 MB in 3s (12.8 MB/s)
#8 5.693 Selecting previously unselected package vim-common.
#8 5.693 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23250 files and directories currently installed.)
#8 5.717 Preparing to unpack .../00-vim-common_2%3a9.0.1378-2+deb12u2_all.deb ...
#8 5.721 Unpacking vim-common (2:9.0.1378-2+deb12u2) ...
#8 5.794 Selecting previously unselected package build-essential.
#8 5.797 Preparing to unpack .../01-build-essential_12.9_amd64.deb ...
#8 5.800 Unpacking build-essential (12.9) ...
#8 5.840 Selecting previously unselected package libgpm2:amd64.
#8 5.843 Preparing to unpack .../02-libgpm2_1.20.7-10+b1_amd64.deb ...
#8 5.850 Unpacking libgpm2:amd64 (1.20.7-10+b1) ...
#8 5.887 Preparing to unpack .../03-libpq-dev_15.14-0+deb12u1_amd64.deb ...
#8 5.897 Unpacking libpq-dev (15.14-0+deb12u1) over (15.6-0+deb12u1) ...
#8 6.003 Preparing to unpack .../04-libpq5_15.14-0+deb12u1_amd64.deb ...
#8 6.015 Unpacking libpq5:amd64 (15.14-0+deb12u1) over (15.6-0+deb12u1) ...
#8 6.122 Selecting previously unselected package libsodium23:amd64.
#8 6.124 Preparing to unpack .../05-libsodium23_1.0.18-1_amd64.deb ...
#8 6.128 Unpacking libsodium23:amd64 (1.0.18-1) ...
#8 6.177 Selecting previously unselected package nodejs.
#8 6.179 Preparing to unpack .../06-nodejs_20.19.6-1nodesource1_amd64.deb ...
#8 6.186 Unpacking nodejs (20.19.6-1nodesource1) ...
#8 8.807 Selecting previously unselected package vim-runtime.
#8 8.811 Preparing to unpack .../07-vim-runtime_2%3a9.0.1378-2+deb12u2_all.deb ...
#8 8.823 Adding 'diversion of /usr/share/vim/vim90/doc/help.txt to /usr/share/vim/vim90/doc/help.txt.vim-tiny by vim-runtime'
#8 8.835 Adding 'diversion of /usr/share/vim/vim90/doc/tags to /usr/share/vim/vim90/doc/tags.vim-tiny by vim-runtime'
#8 8.838 Unpacking vim-runtime (2:9.0.1378-2+deb12u2) ...
#8 9.500 Selecting previously unselected package vim.
#8 9.503 Preparing to unpack .../08-vim_2%3a9.0.1378-2+deb12u2_amd64.deb ...
#8 9.507 Unpacking vim (2:9.0.1378-2+deb12u2) ...
#8 9.624 Selecting previously unselected package xxd.
#8 9.627 Preparing to unpack .../09-xxd_2%3a9.0.1378-2+deb12u2_amd64.deb ...
#8 9.632 Unpacking xxd (2:9.0.1378-2+deb12u2) ...
#8 9.666 Selecting previously unselected package yarn.
#8 9.669 Preparing to unpack .../10-yarn_1.22.22-1_all.deb ...
#8 9.672 Unpacking yarn (1.22.22-1) ...
#8 9.770 Setting up libsodium23:amd64 (1.0.18-1) ...
#8 9.781 Setting up libgpm2:amd64 (1.20.7-10+b1) ...
#8 9.792 Setting up libpq5:amd64 (15.14-0+deb12u1) ...
#8 9.802 Setting up libpq-dev (15.14-0+deb12u1) ...
#8 9.812 Setting up nodejs (20.19.6-1nodesource1) ...
#8 9.833 Setting up xxd (2:9.0.1378-2+deb12u2) ...
#8 9.844 Setting up vim-common (2:9.0.1378-2+deb12u2) ...
#8 9.859 Setting up build-essential (12.9) ...
#8 9.869 Setting up yarn (1.22.22-1) ...
#8 9.879 Setting up vim-runtime (2:9.0.1378-2+deb12u2) ...
#8 9.985 Setting up vim (2:9.0.1378-2+deb12u2) ...
#8 9.996 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode
#8 10.00 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode
#8 10.01 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode
#8 10.01 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode
#8 10.02 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode
#8 10.02 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode
#8 10.03 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode
#8 10.03 update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode
#8 10.04 Processing triggers for libc-bin (2.36-9+deb12u4) ...
#8 10.07 Processing triggers for hicolor-icon-theme (0.17-2) ...
#8 DONE 10.5s

#9 [4/7] RUN mkdir /myapp
#9 DONE 0.3s

#10 [5/7] WORKDIR /myapp
#10 DONE 0.1s

#11 [6/7] RUN gem install bundler
#11 0.990 Successfully installed bundler-4.0.3
#11 0.990 1 gem installed
#11 DONE 1.2s

#12 [7/7] COPY . /myapp
#12 DONE 0.4s

#13 exporting to image
#13 exporting layers
#13 exporting layers 10.6s done
#13 exporting manifest sha256:3cc444873af31910415616c883e199313c170fce78596ff8966717b4d7b133f6 0.0s done
#13 exporting config sha256:362a6e7768d9457de8fa4ffdbe4362a465bc6a82abe6f6381b2fc223f61e9d69 0.0s done
#13 exporting attestation manifest sha256:8e28f4004c8e59af17b5e1ef6fba0d2503d3e59f7e567629cee5afdd81d36f3f 0.0s done
#13 exporting manifest list sha256:608b224ff59f903cde33aed62301fdb7cae70dcb297db1aecc22441a45874a77 0.0s done
#13 naming to docker.io/library/futari-no-kikkake-cho-web:latest done
#13 unpacking to docker.io/library/futari-no-kikkake-cho-web:latest
#13 unpacking to docker.io/library/futari-no-kikkake-cho-web:latest 3.6s done
#13 DONE 14.3s

#14 resolving provenance for metadata file
#14 DONE 0.0s
 futari-no-kikkake-cho-web  Built
